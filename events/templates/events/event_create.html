{% extends 'base.html' %}

{% block content %}
  <h1>Create Event</h1>
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    
    {{ form.as_p }}

    <label for="event_image">Event Image:</label>
    <input type="file" id="event_image" name="event_image" onchange="previewImage(event)">

    <!-- Image Preview -->
    <div id="image_preview" style="margin-top: 20px;">
      <img id="preview" src="" alt="Image Preview" style="max-width: 200px; max-height: 200px;">
    </div>

    <button type="submit">Create Event</button>
  </form>

  <script>
    function previewImage(event) {
      const file = event.target.files[0];
      const reader = new FileReader();
      
      reader.onload = function(e) {
        const preview = document.getElementById('preview');
        preview.src = e.target.result;
        preview.style.display = 'block';  // Show the image
      }
      
      reader.readAsDataURL(file);  // Convert file to Data URL
    }
  </script>
{% endblock %}
