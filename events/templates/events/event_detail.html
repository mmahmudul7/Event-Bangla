{% extends base_template %} {% block content %}
<div class="container mx-auto p-6">
  <div
    class="bg-white rounded-2xl shadow-lg p-6 flex flex-col md:flex-row gap-8"
  >
    <!-- Left Side: Event Details -->
    <div class="md:w-2/3">
      <!-- Title -->
      <h1 class="text-3xl font-bold text-gray-800 mb-4">{{ event.name }}</h1>

      <!-- Image -->
      <div class="mb-6">
        <img
          src="{{ event.get_event_image }}"
          alt="{{ event.name }}"
          class="w-full h-auto rounded-lg shadow-sm"
        />
      </div>

      <!-- Date / Time / Location (Side by Side) -->
      <div
        class="flex flex-col sm:flex-row justify-between items-stretch gap-4 mb-6"
      >
        <!-- Date -->
        <div
          class="flex items-center justify-center bg-teal-50 rounded-lg p-3 w-full sm:w-1/3 shadow-sm"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-teal-500 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 7V3m8 4V3m-9 8h10m-9 8h8M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
            />
          </svg>
          <div>
            <p class="text-gray-500 text-sm">Date</p>
            <p class="font-semibold text-gray-800">{{ event.date }}</p>
          </div>
        </div>

        <!-- Time -->
        <div
          class="flex items-center justify-center bg-teal-50 rounded-lg p-3 w-full sm:w-1/3 shadow-sm"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-teal-500 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4l3 3m6 2A9 9 0 1112 3a9 9 0 019 9z"
            />
          </svg>
          <div>
            <p class="text-gray-500 text-sm">Time</p>
            <p class="font-semibold text-gray-800">{{ event.time }}</p>
          </div>
        </div>

        <!-- Location -->
        <div
          class="flex items-center justify-center bg-teal-50 rounded-lg p-3 w-full sm:w-1/3 shadow-sm"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-teal-500 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 11c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2z"
            />
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 21s-8-6.5-8-11a8 8 0 0116 0c0 4.5-8 11-8 11z"
            />
          </svg>
          <div>
            <p class="text-gray-500 text-sm">Location</p>
            <p class="font-semibold text-gray-800">{{ event.location }}</p>
          </div>
        </div>
      </div>

      <!-- Description -->
      <div class="mb-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-2">Description</h2>
        <p class="text-gray-700 leading-relaxed">{{ event.description }}</p>
      </div>

      <!-- Booking Button -->
      <div class="flex justify-between items-center mt-4">
        {% if user.is_authenticated %} {% if user in event.participants.all %}
        <button
          class="bg-gray-300 text-white px-4 py-2 rounded cursor-not-allowed"
          disabled
        >
          Booking Done
        </button>
        {% else %}
        <a
          href="{% url 'event_rsvp' event.id %}"
          class="bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition"
        >
          Purchase Ticket
        </a>
        {% endif %} {% else %}
        <a
          href="{% url 'sign-in' %}"
          class="bg-blue-900 text-white px-4 py-2 rounded hover:bg-blue-950 transition"
        >
          Purchase Ticket!
        </a>
        {% endif %}
      </div>
    </div>

    <!-- Right Side: Participants -->
    <div
      class="md:w-1/3 bg-teal-50 p-4 rounded-xl shadow-inner h-[660px] overflow-y-auto"
    >
      <h3
        class="text-lg font-semibold text-teal-700 mb-3 flex items-center justify-between"
      >
        <span class="flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M17 20h5V9H2v11h5m10-8h.01M7 20v-6h10v6"
            />
          </svg>
          Participants
        </span>
        <span class="text-sm text-gray-600"
          >{{ event.participants.count }} joined</span
        >
      </h3>

      <ul class="space-y-2">
        {% for participant in event.participants.all %}
        <li
          class="flex items-center bg-white rounded-md px-3 py-2 shadow-sm hover:bg-teal-100 transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4 text-teal-500 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5.121 17.804A9 9 0 1118.879 6.196M12 14v.01"
            />
          </svg>
          <span class="text-gray-700">{{ participant.get_full_name }}</span>
        </li>
        {% empty %}
        <p class="text-gray-500 text-sm">No participants yet.</p>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
